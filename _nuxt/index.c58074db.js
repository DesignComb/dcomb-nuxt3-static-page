import{r as v,q as w,s as D,v as x,x as B,y as j,k as $,z as k,A as P,_ as C,o as N,c as A,a as d,B as y,C as H}from"./entry.b9832dff.js";const O=()=>null;function F(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(t);let[a,o,n={}]=e;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof o!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");n.server=n.server??!0,n.default=n.default??O,n.lazy=n.lazy??!1,n.immediate=n.immediate??!0;const r=j(),f=()=>r.isHydrating?r.payload.data[a]:r.static.data[a],p=()=>f()!==void 0;r._asyncData[a]||(r._asyncData[a]={data:v(f()??n.default()),pending:v(!p()),error:w(r.payload._errors,a),status:v("idle")});const s={...r._asyncData[a]};s.refresh=s.execute=(l={})=>{if(r._asyncDataPromises[a]){if(l.dedupe===!1)return r._asyncDataPromises[a];r._asyncDataPromises[a].cancelled=!0}if((l._initial||r.isHydrating&&l._initial!==!1)&&p())return f();s.pending.value=!0,s.status.value="pending";const h=new Promise((i,u)=>{try{i(o(r))}catch(b){u(b)}}).then(i=>{if(h.cancelled)return r._asyncDataPromises[a];let u=i;n.transform&&(u=n.transform(i)),n.pick&&(u=T(u,n.pick)),s.data.value=u,s.error.value=null,s.status.value="success"}).catch(i=>{if(h.cancelled)return r._asyncDataPromises[a];s.error.value=i,s.data.value=$(n.default()),s.status.value="error"}).finally(()=>{h.cancelled||(s.pending.value=!1,r.payload.data[a]=s.data.value,s.error.value&&(r.payload._errors[a]=k(s.error.value)),delete r._asyncDataPromises[a])});return r._asyncDataPromises[a]=h,r._asyncDataPromises[a]};const g=()=>s.refresh({_initial:!0}),_=n.server!==!1&&r.payload.serverRendered;{const l=P();if(l&&!l._nuxtOnBeforeMountCbs){l._nuxtOnBeforeMountCbs=[];const i=l._nuxtOnBeforeMountCbs;l&&(D(()=>{i.forEach(u=>{u()}),i.splice(0,i.length)}),x(()=>i.splice(0,i.length)))}_&&r.isHydrating&&p()?(s.pending.value=!1,s.status.value=s.error.value?"error":"success"):l&&(r.payload.serverRendered&&r.isHydrating||n.lazy)&&n.immediate?l._nuxtOnBeforeMountCbs.push(g):n.immediate&&g(),n.watch&&B(n.watch,()=>s.refresh());const h=r.hook("app:data:refresh",i=>{if(!i||i.includes(a))return s.refresh()});l&&x(h)}const m=Promise.resolve(r._asyncDataPromises[a]).then(()=>s);return Object.assign(m,s),m}function T(e,t){const a={};for(const o of t)a[o]=e[o];return a}const M={},z={class:"relative w-full h-full moving-container"},q=d("div",{class:"absolute w-full h-full scale-105"},[d("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},[d("rect",{class:"moving-dashed-border",width:"100%",height:"100%",fill:"none",stroke:"#fcba03","stroke-width":"4","stroke-dasharray":"150","stroke-dashoffset":"0","stroke-linecap":"square"})])],-1),E=d("div",{class:"absolute w-full max-w-128 h-full bg-black moving-bg"},null,-1),S={class:"max-w-128 relative min-h-[16rem] h-full w-full text-left bg-white border-2 border-black border-solid shadow-md"},R={id:"image-container",class:"relative w-full pb-[56.25%] overflow-hidden border-0 border-solid border-b-1"},G={class:"p-4"},K={class:"mb-2 line-clamp-2 font-bold text-black text-base tracking-wide"};function U(e,t){return N(),A("div",z,[q,E,d("div",S,[d("div",R,[y(e.$slots,"cover")]),d("div",G,[d("div",K,[y(e.$slots,"title")]),y(e.$slots,"tags")])])])}const J=C(M,[["render",U]]),L=e=>{var t,a,o,n,r,f,p,s,g,_;return e!=null&&e.cover?e.cover.type==="external"?e.cover.external.url:e.cover.type==="file"?e.cover.file.url:"":(t=e==null?void 0:e.properties)!=null&&t.Cover&&((a=e.properties.Cover)==null?void 0:a.type)==="files"?((n=(o=e.properties.Cover)==null?void 0:o.files[0])==null?void 0:n.type)==="external"?(p=(f=(r=e.properties.Cover)==null?void 0:r.files[0])==null?void 0:f.external)==null?void 0:p.url:(_=(g=(s=e.properties.Cover)==null?void 0:s.files[0])==null?void 0:g.file)==null?void 0:_.url:""},V=e=>{var a,o;return((o=(a=e==null?void 0:e.properties)==null?void 0:a.ProjectImage)==null?void 0:o.files).map(n=>n.external.url)},Q=e=>{var t,a;return((a=(t=e==null?void 0:e.properties)==null?void 0:t.Name)==null?void 0:a.title.map(o=>o.plain_text).join(""))||""},W=e=>{var t,a;return((a=(t=e==null?void 0:e.properties)==null?void 0:t.Text)==null?void 0:a.text.map(o=>o.plain_text.replace(/\n/g,"<br>")).join(""))||""};function c(e){let t=e.text.content;return e.annotations.bold&&(t=`<strong>${t}</strong>`),e.annotations.italic&&(t=`<em>${t}</em>`),e.annotations.strikethrough&&(t=`<del>${t}</del>`),e.annotations.underline&&(t=`<u>${t}</u>`),e.annotations.code&&(t=`<code>${t}</code>`),e.text.link&&(t=`<a href="${e.text.link}">${t}</a>`),t}function I(e){switch(e.type){case"heading_1":return`<h1>${e.heading_1.text.map(c).join("")}</h1>`;case"heading_2":return`<h2>${e.heading_2.text.map(c).join("")}</h2>`;case"heading_3":return`<h3>${e.heading_3.text.map(c).join("")}</h3>`;case"bulleted_list_item":return`<li>${e.bulleted_list_item.text.map(c).join("")}</li>`;case"numbered_list_item":return`<li>${e.numbered_list_item.text.map(c).join("")}</li>`;case"code":return`<pre><code>${e.code.text.map(c).join("")}</code></pre>`;case"quote":return`<blockquote>${e.quote.text.map(c).join("")}</blockquote>`;case"callout":return`<div class="callout">${e.callout.text.map(c).join("")}</div>`;case"paragraph":return`<p>${e.paragraph.text.map(c).join("")}</p>`;case"image":return`<div id="image-container" class="relative w-full pb-[56.25%] overflow-hidden">
                        <img src="${e.image.file.url}" alt=""/>
                    </div>`;default:return""}}const Y=H("main",{state:()=>({notionDB:null,notionPage:{},notionPageBlock:null}),actions:{async fetchNotionDB(){const e=await $fetch("https://api.notion.com/v1/databases/5ad9018ec1a9408cbc7781197832c880/query",{method:"POST",credentials:"include",headers:{Accept:"application/json",Authorization:"Bearer secret_8Ujk50jsgGBNH8x1D8pi3DKB1ppeIRHAs9XNdMCoyog"},body:{sorts:[{property:"Sort",direction:"ascending"}]}});return e&&(this.notionDB=e),e},async fetchNotionPage(e){const t=await $fetch(`https://api.notion.com/v1/pages/${e}`,{method:"GET",credentials:"include",headers:{Accept:"application/json",Authorization:"Bearer secret_8Ujk50jsgGBNH8x1D8pi3DKB1ppeIRHAs9XNdMCoyog"}});return t&&(this.notionPage=t),t},async fetchNotionPageBlock(e){const t=await $fetch(`https://api.notion.com/v1/blocks/${e}/children?page_size=999`,{method:"GET",credentials:"include",headers:{Accept:"application/json",Authorization:"Bearer secret_8Ujk50jsgGBNH8x1D8pi3DKB1ppeIRHAs9XNdMCoyog"}});return t&&(this.notionPageBlock=t),t}},getters:{getDBItemArr(){var e;if(this.notionDB)return(e=this.notionDB)==null?void 0:e.results},getNotionPageBlockHtml(){var e,t;return(t=(e=this.notionPageBlock)==null?void 0:e.results)==null?void 0:t.map(I).join("")}}});export{J as _,F as a,Q as b,V as c,W as d,L as g,Y as u};
